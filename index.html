

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIZA - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ ğŸ‘‘</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg-dark: #0a0a0a; 
            --primary: #00FF00; 
            --secondary: #00E8C8; 
            --text-light: #e0e0e0; 
            --error: #ff3333; 
            --warn: #ffcc00; 
            --bg-mid: #161616; 
            --tile-bg: #1f1f1f;
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
        }

        * { box-sizing: border-box; font-family: 'Cairo', sans-serif; transition: all 0.2s ease; }
        body { background: var(--bg-dark); color: var(--text-light); margin: 0; padding: 0; line-height: 1.6; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

        /* Login Container */
        #loginContainer { 
            max-width: 400px; margin: 100px auto; background: var(--bg-mid); 
            padding: 40px; border-radius: 20px; border: 1px solid var(--primary);
            box-shadow: var(--shadow);
        }
        
        input, select { 
            width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; 
            border: 1px solid #333; background: #252525; color: #fff; outline: none;
        }
        input:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(0,255,0,0.2); }

        button { 
            cursor: pointer; border: none; border-radius: 8px; font-weight: bold; 
            padding: 12px 20px; display: inline-flex; align-items: center; justify-content: center;
        }

        .btn-primary { background: var(--primary); color: #000; width: 100%; }
        .btn-primary:hover { background: #00cc00; transform: scale(1.02); }

        /* Main Content */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid #333; padding-bottom: 20px; }
        
        .admin-tiles { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .admin-tile { 
            background: var(--tile-bg); padding: 20px; border-radius: 15px; 
            text-align: center; border: 2px solid #333; position: relative; overflow: hidden;
        }
        .admin-tile:hover { border-color: var(--secondary); transform: translateY(-5px); cursor: pointer; }
        .admin-tile h3 { margin: 10px 0; color: var(--secondary); font-size: 24px; }
        
        /* Search Bar */
        .search-box { position: relative; max-width: 600px; margin: 0 auto 30px; }
        .search-box input { padding-right: 45px; font-size: 16px; border-radius: 25px; border: 2px solid #444; }

        /* Table Style */
        .table-responsive { background: var(--bg-mid); border-radius: 15px; overflow: hidden; box-shadow: var(--shadow); }
        table { width: 100%; border-collapse: collapse; }
        th { background: #252525; color: var(--primary); padding: 15px; font-weight: 600; font-size: 14px; }
        td { padding: 12px 15px; border-bottom: 1px solid #333; text-align: center; font-size: 13px; }
        tr:hover { background: rgba(255,255,255,0.03); }

        /* Badges */
        .badge { padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: bold; }
        .status-active { background: rgba(0, 255, 0, 0.1); color: var(--primary); }
        .status-blocked { background: rgba(255, 165, 0, 0.1); color: var(--warn); }
        .status-expired { background: rgba(255, 68, 68, 0.1); color: var(--error); }

        /* Modals */
        .modal-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.9); display: none; justify-content: center; 
            align-items: center; z-index: 1000; backdrop-filter: blur(5px);
        }
        .modal-content { background: var(--bg-mid); padding: 30px; border-radius: 20px; width: 90%; max-width: 450px; border: 1px solid var(--secondary); }

        /* Toasts */
        #toast-container { position: fixed; bottom: 20px; left: 20px; z-index: 9999; }
        .toast { background: var(--bg-mid); border-right: 5px solid var(--primary); color: #fff; padding: 15px 25px; border-radius: 8px; margin-top: 10px; box-shadow: var(--shadow); animation: slideIn 0.3s ease-out forwards; }
        @keyframes slideIn { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        .actions { display: flex; gap: 5px; justify-content: center; flex-wrap: wrap; }
        .btn-small { padding: 5px 10px; font-size: 11px; border-radius: 5px; }
        .btn-edit { background: #0099cc; color: white; }
        .btn-delete { background: var(--error); color: white; }
        .btn-warn { background: var(--warn); color: black; }
        .btn-eject { background: #555; color: white; }

        @media (max-width: 768px) {
            .admin-tiles { grid-template-columns: 1fr 1fr; }
            th:nth-child(3), td:nth-child(3), th:nth-child(4), td:nth-child(4) { display: none; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="loginContainer">
        <h2 style="text-align:center; color:var(--primary); margin-bottom:30px;">GIZA LOGIN ğŸ›¡ï¸</h2>
        <form id="loginForm">
            <input type="email" id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
            <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
            <button type="submit" class="btn-primary" style="margin-top:20px;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ù†</button>
        </form>
    </div>

    <div id="mainContent" style="display:none;">
        <div class="header">
            <h1 style="color:var(--primary); margin:0;">GIZA CONTROL ğŸ‘‘</h1>
            <button onclick="logout()" class="btn-delete btn-small">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>

        <div class="admin-tiles">
            <div class="admin-tile" onclick="setActivePanel('sara')">
                <p>Ù„ÙˆØ­Ø©</p><h3>Sara</h3>
            </div>
            <div class="admin-tile" onclick="setActivePanel('ahmed')">
                <p>Ù„ÙˆØ­Ø©</p><h3>Ahmed</h3>
            </div>
            <div class="admin-tile" onclick="setActivePanel('giza')">
                <p>Ù„ÙˆØ­Ø©</p><h3>GIZA</h3>
            </div>
            <div class="admin-tile" style="border-color:var(--error);" onclick="showBlockedDevices()">
                <p>Ø§Ù„Ù…Ø­Ø¸ÙˆØ±ÙŠÙ†</p><h3>ğŸš« Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h3>
            </div>
            <div class="admin-tile" style="border-color:var(--primary);" onclick="setActivePanel('TOTAL')">
                <p>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</p><h3>ğŸ“Š Ø§Ù„ÙƒÙ„</h3>
            </div>
        </div>

        <div id="controlActions" style="text-align:center; margin-bottom:30px;">
            <button class="btn-primary" style="width:auto; padding: 15px 40px;" onclick="toggleModal('addCodeModal', true)">+ Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯</button>
        </div>

        <div class="search-box">
            <input type="text" id="globalSearch" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„ÙƒÙˆØ¯ØŒ Ø£Ùˆ Ø§Ù„Ø´Ø¹Ø¨Ø©..." oninput="handleSearch(this.value)">
        </div>

        <div id="tableContainer" class="table-responsive">
            <table id="studentsTable">
                <thead>
                    <tr>
                        <th>Ø§Ù„ÙƒÙˆØ¯</th>
                        <th>Ø§Ù„Ø·Ø§Ù„Ø¨</th>
                        <th>Ø§Ù„Ø´Ø¹Ø¨Ø©</th>
                        <th>Ø§Ù„Ù…Ø¯ÙÙˆØ¹</th>
                        <th>Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>
                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                    </tr>
                </thead>
                <tbody id="studentsBody">
                    <tr><td colspan="7" style="padding:40px;">ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù„ÙˆØ­Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div id="addCodeModal" class="modal-overlay">
    <div class="modal-content">
        <h3 style="color:var(--secondary);">Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
        <p>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆÙ„Ø¯: <strong id="generatedCode" style="color:var(--primary); font-family:monospace; font-size:20px;"></strong></p>
        <form id="addCodeForm">
            <input type="text" id="stName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„" required>
            <select id="stSection" required>
                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø´Ø¹Ø¨Ø©</option>
                <option value="Ø¹Ù„Ù…ÙŠ Ø¹Ù„ÙˆÙ…">Ø¹Ù„Ù…ÙŠ Ø¹Ù„ÙˆÙ…</option>
                <option value="Ø¹Ù„Ù…ÙŠ Ø±ÙŠØ§Ø¶Ø©">Ø¹Ù„Ù…ÙŠ Ø±ÙŠØ§Ø¶Ø©</option>
                <option value="Ø£Ø¯Ø¨ÙŠ">Ø£Ø¯Ø¨ÙŠ</option>
                <option value="Ø£Ø²Ù‡Ø±">Ø£Ø²Ù‡Ø±</option>
            </select>
            <input type="number" id="stPrice" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹">
            <select id="stDuration">
                <option value="trial">ØªØ¬Ø±Ø¨Ø© (1 Ø³Ø§Ø¹Ø©)</option>
                <option value="30">Ø´Ù‡Ø± (30 ÙŠÙˆÙ…)</option>
                <option value="custom">Ù…Ø®ØµØµ Ø¨Ø§Ù„Ø£ÙŠØ§Ù…</option>
            </select>
            <input type="number" id="stCustomDays" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙÙŠ Ø­Ø§Ù„ Ø§Ù„Ù…Ø®ØµØµ" style="display:none;">
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button type="submit" class="btn-primary">ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯</button>
                <button type="button" onclick="toggleModal('addCodeModal', false)" style="background:#444; color:white; width:100%;">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </form>
    </div>
</div>

<div id="editModal" class="modal-overlay">
    <div class="modal-content">
        <h3 style="color:var(--secondary);">ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</h3>
        <form id="editForm">
            <input type="hidden" id="editUid">
            <label>Ø§Ù„Ø§Ø³Ù…:</label>
            <input type="text" id="editName" required>
            <label>Ø§Ù„Ø´Ø¹Ø¨Ø©:</label>
            <select id="editSection">
                <option value="Ø¹Ù„Ù…ÙŠ Ø¹Ù„ÙˆÙ…">Ø¹Ù„Ù…ÙŠ Ø¹Ù„ÙˆÙ…</option>
                <option value="Ø¹Ù„Ù…ÙŠ Ø±ÙŠØ§Ø¶Ø©">Ø¹Ù„Ù…ÙŠ Ø±ÙŠØ§Ø¶Ø©</option>
                <option value="Ø£Ø¯Ø¨ÙŠ">Ø£Ø¯Ø¨ÙŠ</option>
                <option value="Ø£Ø²Ù‡Ø±">Ø£Ø²Ù‡Ø±</option>
            </select>
            <label>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹ (Ø¬.Ù…):</label>
            <input type="number" id="editPrice">
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button type="submit" class="btn-primary">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                <button type="button" onclick="toggleModal('editModal', false)" style="background:#444; color:white; width:100%;">Ø¥ØºÙ„Ø§Ù‚</button>
            </div>
        </form>
    </div>
</div>

<div id="toast-container"></div>

<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js';
    import { getDatabase, ref, onValue, update, remove, set } from 'https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js';
    import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBK6FZF3LW83qaUHBKYTfiVd2Ozrd1Rf2g",
            authDomain: "thanawy-1383.firebaseapp.com",
            databaseURL: "https://thanawy-1383-default-rtdb.firebaseio.com",
            projectId: "thanawy-1383",
            storageBucket: "thanawy-1383.firebasestorage.app",
            messagingSenderId: "1026664406457",
            appId: "1:1026664406457:web:87d71f7e41bef36ba0aa68",
            measurementId: "G-J5R2EFM2D0"
        };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const auth = getAuth(app);

    const GIZA_UID = "MeGkUlBKCuas45rXQSX0DheNBBy1";
    let allData = {};
    let activePanel = null;
    let searchFilter = "";

    // -- Helper Functions --
    window.showToast = (msg, type = "success") => {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = 'toast';
        if(type === 'error') toast.style.borderRightColor = 'var(--error)';
        toast.textContent = msg;
        container.appendChild(toast);
        setTimeout(() => toast.remove(), 4000);
    };

    window.toggleModal = (id, show) => {
        const modal = document.getElementById(id);
        modal.style.display = show ? 'flex' : 'none';
        if(id === 'addCodeModal' && show) {
            document.getElementById('generatedCode').textContent = Math.floor(100000 + Math.random() * 900000);
        }
    };

    // -- Auth --
    document.getElementById('loginForm').onsubmit = async (e) => {
        e.preventDefault();
        const email = document.getElementById('loginEmail').value;
        const pass = document.getElementById('loginPassword').value;
        try {
            await signInWithEmailAndPassword(auth, email, pass);
        } catch (err) {
            showToast("Ø®Ø·Ø£ ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„!", "error");
        }
    };

    window.logout = () => signOut(auth);

    onAuthStateChanged(auth, (user) => {
        if (user && user.uid === GIZA_UID) {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            initDataListeners();
        } else {
            document.getElementById('loginContainer').style.display = 'block';
            document.getElementById('mainContent').style.display = 'none';
        }
    });

    // -- Data Management --
    function initDataListeners() {
        onValue(ref(db, 'approvedStudents'), (snapshot) => {
            allData = snapshot.val() || {};
            renderTable();
        });
    }

    window.setActivePanel = (panel) => {
        activePanel = panel;
        renderTable();
        showToast(`ØªÙ… ÙØªØ­ Ù„ÙˆØ­Ø© ${panel.toUpperCase()}`);
    };

    window.handleSearch = (val) => {
        searchFilter = val.toLowerCase();
        renderTable();
    };

    function renderTable() {
        const tbody = document.getElementById('studentsBody');
        tbody.innerHTML = "";
        
        let list = Object.values(allData);
        
        // Filter by Panel
        if(activePanel && activePanel !== 'TOTAL') {
            list = list.filter(item => (item.addedByAdmin || 'giza').toLowerCase() === activePanel);
        }

        // Filter by Search
        if(searchFilter) {
            list = list.filter(item => 
                item.name?.toLowerCase().includes(searchFilter) || 
                item.uid?.toString().includes(searchFilter) ||
                item.section?.toLowerCase().includes(searchFilter)
            );
        }

        if(list.length === 0) {
            tbody.innerHTML = `<tr><td colspan="7" style="padding:40px;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹...</td></tr>`;
            return;
        }

        list.forEach(student => {
            const isExpired = student.expiry < Date.now();
            const statusClass = isExpired ? 'status-expired' : (student.isBlocked ? 'status-blocked' : 'status-active');
            const statusText = isExpired ? 'Ù…Ù†ØªÙ‡ÙŠ' : (student.isBlocked ? 'Ù…Ø¹Ø·Ù„' : 'Ù†Ø´Ø·');

            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td style="font-family:monospace; font-weight:bold;">${student.uid}</td>
                <td>${student.name}</td>
                <td>${student.section || '-'}</td>
                <td>${student.pricePaid || 0} Ø¬.Ù…</td>
                <td>${formatTime(student.expiry)}</td>
                <td><span class="badge ${statusClass}">${statusText}</span></td>
                <td class="actions">
                    <button class="btn-small btn-edit" onclick="openEdit('${student.uid}')">ØªØ¹Ø¯ÙŠÙ„</button>
                    <button class="btn-small btn-warn" onclick="renewPrompt('${student.uid}', '${student.name}')">ØªØ¬Ø¯ÙŠØ¯</button>
                    <button class="btn-small btn-eject" onclick="ejectDevice('${student.uid}')">Ø·Ø±Ø¯</button>
                    <button class="btn-small ${student.isBlocked ? 'btn-primary' : 'btn-warn'}" onclick="toggleBlock('${student.uid}', ${student.isBlocked})">
                        ${student.isBlocked ? 'ØªÙØ¹ÙŠÙ„' : 'ØªØ¹Ø·ÙŠÙ„'}
                    </button>
                    <button class="btn-small btn-delete" onclick="deleteStudent('${student.uid}')">Ø­Ø°Ù</button>
                </td>
            `;
            tbody.appendChild(tr);
        });
    }

    function formatTime(ts) {
        if(!ts) return "-";
        const diff = ts - Date.now();
        if(diff < 0) return "Ù…Ù†ØªÙ‡ÙŠ";
        const days = Math.floor(diff / 86400000);
        const hours = Math.floor((diff % 86400000) / 3600000);
        return `${days} ÙŠÙˆÙ… Ùˆ ${hours} Ø³Ø§Ø¹Ø©`;
    }

    // -- Actions --
    window.openEdit = (uid) => {
        const s = allData[uid];
        document.getElementById('editUid').value = uid;
        document.getElementById('editName').value = s.name;
        document.getElementById('editSection').value = s.section || "";
        document.getElementById('editPrice').value = s.pricePaid || 0;
        toggleModal('editModal', true);
    };

    document.getElementById('editForm').onsubmit = (e) => {
        e.preventDefault();
        const uid = document.getElementById('editUid').value;
        update(ref(db, `approvedStudents/${uid}`), {
            name: document.getElementById('editName').value,
            section: document.getElementById('editSection').value,
            pricePaid: parseFloat(document.getElementById('editPrice').value)
        }).then(() => {
            showToast("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
            toggleModal('editModal', false);
        });
    };

    document.getElementById('addCodeForm').onsubmit = (e) => {
        e.preventDefault();
        const code = document.getElementById('generatedCode').textContent;
        const duration = document.getElementById('stDuration').value;
        let expiry = Date.now();

        if(duration === 'trial') expiry += 3600000;
        else if(duration === '30') expiry += 30 * 86400000;
        else expiry += (parseInt(document.getElementById('stCustomDays').value) || 0) * 86400000;

        const newData = {
            uid: code,
            name: document.getElementById('stName').value,
            section: document.getElementById('stSection').value,
            pricePaid: parseFloat(document.getElementById('stPrice').value) || 0,
            expiry: expiry,
            addedByAdmin: activePanel === 'TOTAL' || !activePanel ? 'giza' : activePanel,
            approvedAt: Date.now(),
            isBlocked: false,
            deviceId: ""
        };

        set(ref(db, `approvedStudents/${code}`), newData).then(() => {
            showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­");
            toggleModal('addCodeModal', false);
            document.getElementById('addCodeForm').reset();
        });
    };

    window.deleteStudent = (uid) => {
        if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ")) {
            remove(ref(db, `approvedStudents/${uid}`)).then(() => showToast("ØªÙ… Ø§Ù„Ø­Ø°Ù", "error"));
        }
    };

    window.toggleBlock = (uid, currentStatus) => {
        update(ref(db, `approvedStudents/${uid}`), { isBlocked: !currentStatus });
    };

    window.ejectDevice = (uid) => {
        update(ref(db, `approvedStudents/${uid}`), { deviceId: "" }).then(() => showToast("ØªÙ… Ø·Ø±Ø¯ Ø§Ù„Ø¬Ù‡Ø§Ø²"));
    };

    window.renewPrompt = (uid, name) => {
        const days = prompt(`ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ù„Ù„Ø·Ø§Ù„Ø¨ ${name}ØŸ`, "30");
        if(days) {
            const currentExpiry = allData[uid].expiry;
            const startPoint = currentExpiry > Date.now() ? currentExpiry : Date.now();
            const newExpiry = startPoint + (parseInt(days) * 86400000);
            update(ref(db, `approvedStudents/${uid}`), { expiry: newExpiry, isBlocked: false });
            showToast("ØªÙ… Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­");
        }
    };

    // Toggle custom days input
    document.get
